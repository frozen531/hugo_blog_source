---
title: "07_函数"
date: 2023-03-05T21:22:08+08:00
draft: true
tags: ["C和指针"]
categories: ["读书笔记"]
---

# 函数

- 建议将函数原型写入```.h```文件中，好处：
> 1. 使函数具有文件作用域
> 2. 防止多份原型的拷贝间的不匹配现象
> 3. 如果函数定义进行修改，只需修改原型，并重新编译该源文件即可

## 1. 函数传参

- 所有参数均以"传值调用"方式传递

```c
void swap(int *x, int *y); // 函数原型
swap(&a, &b); // 调用方式
```

## 2. ADT和黑盒

- ```ADT(abstract data type)```基本思路：模块具有功能说明和接口说明，前者说明模块所执行的任务，后者定义模块的使用
- 上述技巧也称黑盒设计，使模块用户并不需知道模块实现的细节，除了定义好的接口之外，用户不能以任何方式访问模块
- 限制对模块的访问是通过```static```的使用，将访问权限修改为```internal```
- ```ADT```使程序各个部分间更加独立

## 3. 递归

- 递归函数是直接或间接调用自身的函数
- 如果递归函数内部所执行的最后一条语句就是调用自身时，它被称为“尾部递归”，“尾部递归”可以很容易的改写为迭代

## 4. 可变参数列表

- 通过宏实现，定义于```stdarg.h```头文件，该头文件中声明了一个类型```va_list```和三个宏：
> 1. ```va_start```：调用```va_start```来初始化
> 2. ```va_arg```：获取下一个参数
> 3. ```va_end```：访问完最后一个可变参数后，调用```va_end```

